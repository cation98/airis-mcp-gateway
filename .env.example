# ==========================================
# AIRIS MCP Gateway Configuration
# ==========================================

# Ports (host side -> container side)
GATEWAY_PORT=9090
GATEWAY_CONTAINER_PORT=9090
API_PORT=8001
API_CONTAINER_PORT=8000
UI_PORT=5173

# Internal service wiring (override only if customizing)
API_INTERNAL_URL=http://api:8000
MINDBASE_API_URL=http://host.docker.internal:18002
GATEWAY_API_URL=http://host.docker.internal:9090/api

# API runtime options
API_DEBUG=true

# Database
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=mcp_gateway

# Encryption (REQUIRED for secret storage)
# Sample key for local development. Generate your own for staging/production:
# python - <<'PY'
# import os, base64
# print(base64.urlsafe_b64encode(os.urandom(32)).decode())
# PY
ENCRYPTION_MASTER_KEY=xeOpFnCTBXnY3m65gO4V6hHLOBqKFGfJp42io8yAREU=
# Optional hex representation for AES-GCM (preferred for new credential store)
# MASTER_KEY_HEX=8d9b3f5d1c0a4e8f9d7c6b5a48372615

# Advanced: Auto-set by Makefile (do not modify unless using docker compose directly)
# HOST_WORKSPACE_DIR=/absolute/path/to/parent/dir
# HOST_REPO_DIR=/absolute/path/to/repo
# HOST_SUPABASE_DIR=/absolute/path/to/airis-mcp-supabase-selfhost
# CONTAINER_WORKSPACE_ROOT=/workspace/host
# CONTAINER_PROJECT_ROOT=/workspace/host/airis-mcp-gateway
# DOCKER_NETWORK=airis-mcp-gateway_default
# COMPOSE_PROJECT_NAME=airis-mcp-gateway

# Supabase Self-host MCP (sample values for local development)
PG_DSN=postgres://mcp_ro:password@host.docker.internal:5432/postgres
POSTGREST_URL=http://host.docker.internal:54321/rest/v1
POSTGREST_JWT=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.c3VwYWJhc2Uuc2VsZmhvc3Q.dGVzdC1zaWduYXR1cmU
READ_ONLY=true
FEATURES=database,docs,postgrest
